if status is-interactive
    # Commands to run in interactive sessions can go here
    alias bashrc 'code ~/.bashrc'
    alias fcfg   'code ~/.config/fish/config.fish'
    alias scfg   'code ~/.config/starship.toml'
    alias cls    'clear'
    alias py     'python'
    alias y      'yazi'
    alias fd     'fd -I -H'
    alias ls     'lsd -T --icon-theme unicode'
    alias ll     'ls --header --git -Al --date relative'
    alias lld    'fd -l -d 1'
    alias llt    'll --total-size'
    alias cd1    'cd ../'
    alias cd2    'cd ../../'
    alias cd3    'cd ../../../'
    alias pc     '~/tool/scripts/bin/tool -pc'
    alias btm    'btm --theme=gruvbox --config_Location ~/.config/btm.toml'

    alias ga_cnm 'git add . && git cnm'
    alias gc_cmd 'git commit -m "[{(date +"%m/%d %H:%M")}] sync"'
    alias grd    'git rh && git clean -fd'

    # source ~/.uv_venv/bin/activate.fish
end

starship init fish | source
# zoxide init fish | source

function vscode_crash
    set -gx VSCODE_IPC_HOOK_CLI (lsof | grep $UID/vscode-ipc | awk '{print $(NF-1)}' | head -n 1)
end

function winpath
    echo (realpath $argv | string replace -a '/local/mnt/workspace/' 'Z:/')
end

function y
	set tmp (mktemp -t "yazi-cwd.XXXXXX")
	yazi $argv --cwd-file="$tmp"
	if read -z cwd < "$tmp"; and [ -n "$cwd" ]; and [ "$cwd" != "$PWD" ]
		builtin cd -- "$cwd"
	end
	rm -f -- "$tmp"
end

function z
    cd "$argv[2]"
    set selected (fzf --walker=dir,file,hidden)
    
    if test $argv[1] = "cd" 
        if $selected != ""
            if test -d $selected
                cd $selected
            else 
                cd (path dirname selected)
            end
            echo "enter: $pwd"
        else
            cd -
            echo "no enter"
        end
    else if test $argv[1] = "code"
        if $selected != ""
            code $selected
        else
            cd -
        end
    else if test $argv[1] = "nvim"
        if $selected != ""
            nvim $selected
        else
            cd -
        end
    else
        echo "no this cmd: $argv[1]"
    end 
end